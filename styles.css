:root{
  --bg:#0b0d12;
  --card:rgba(255,255,255,.06);
  --stroke:rgba(255,255,255,.10);
  --text:#ffffff;
  --muted:#b7bbca;
  --purple:#8f6bff;
  --purple2:#6c4dff;
  --green:#33d6a6;
  --shadow: 0 22px 70px rgba(0,0,0,.65);
  --radius: 22px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial;
  background:var(--bg);
  color:var(--text);
  overflow-x:hidden;
}

.bg{position:fixed;inset:0;z-index:-3;pointer-events:none}
.bg__blob{
  position:absolute;
  width:520px;height:520px;border-radius:50%;
  filter: blur(70px);
  opacity:.55;
}
.bg__blob--1{left:-180px;top:-180px;background:radial-gradient(circle at 30% 30%, #8f6bff, transparent 60%)}
.bg__blob--2{right:-220px;top:160px;background:radial-gradient(circle at 30% 30%, #6c4dff, transparent 60%)}
.bg__blob--3{left:20%;bottom:-260px;background:radial-gradient(circle at 30% 30%, #3a2c8c, transparent 60%)}
.bg__grain{
  position:absolute;inset:0;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='.25'/%3E%3C/svg%3E");
  mix-blend-mode:overlay;
  opacity:.35;
}

.app{
  min-height:100vh;
  padding-bottom:92px;
}

.topbar{
  display:flex;
  gap:14px;
  align-items:center;
  padding:18px 16px 10px;
}
.icon-btn{
  width:42px;height:42px;border-radius:14px;
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.05);
  color:var(--text);
  font-size:22px;
  display:grid;place-items:center;
  backdrop-filter: blur(14px);
}
.topbar__center{flex:1;min-width:0}
.title{font-size:28px;font-weight:800;letter-spacing:.2px;line-height:1.0}
.muted{color:var(--muted);font-size:13px}
.topbar__right{text-align:right}
.balance{font-size:18px;font-weight:800}

.content{padding:0 16px}
.section{margin-top:12px}
.section__head{
  display:flex;align-items:flex-end;justify-content:space-between;
  margin:10px 2px 10px;
}
h2{margin:0;font-size:18px;letter-spacing:.2px}

.hscroll{
  display:flex;gap:12px;
  overflow:auto;
  padding:6px 2px 2px;
  scroll-snap-type:x mandatory;
}
.hscroll::-webkit-scrollbar{display:none}

.mini{
  min-width:152px;
  height:92px;
  border-radius:18px;
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.05);
  box-shadow: 0 18px 55px rgba(0,0,0,.55);
  backdrop-filter: blur(14px);
  padding:12px 12px;
  text-align:left;
  scroll-snap-align:start;
  position:relative;
  overflow:hidden;
  color:var(--text);
}
.mini.glow::before{
  content:"";
  position:absolute;inset:-1px;
  background: radial-gradient(120px 80px at 20% 0%, rgba(143,107,255,.55), transparent 60%),
              radial-gradient(140px 90px at 90% 110%, rgba(108,77,255,.45), transparent 60%);
  opacity:.75;
  pointer-events:none;
}
.mini__top{display:flex;justify-content:flex-end}
.mini__pill{
  font-size:11px;
  padding:4px 8px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(0,0,0,.25);
  backdrop-filter: blur(10px);
}
.mini__title{font-weight:800;margin-top:8px}
.mini__sub{margin-top:2px}

.cards{display:flex;flex-direction:column;gap:14px}

.p-card{
  border-radius: var(--radius);
  position:relative;
  overflow:hidden;
  min-height:178px;
  box-shadow: var(--shadow);
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  transform: translateZ(0);
}
.p-card__frame{
  position:absolute;inset:0;
  background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,0));
  opacity:.6;
  pointer-events:none;
}
.p-card__bg{
  position:absolute;inset:0;
  filter: saturate(1.2);
  opacity: 1;
}
.p-card__bg--wash{
  background:
    radial-gradient(800px 260px at 15% 0%, rgba(143,107,255,.45), transparent 60%),
    radial-gradient(420px 220px at 88% 85%, rgba(51,214,166,.22), transparent 60%),
    linear-gradient(180deg, rgba(10,12,18,.0), rgba(10,12,18,.65));
}
.p-card__bg--interior{
  background:
    radial-gradient(700px 260px at 20% 10%, rgba(143,107,255,.48), transparent 62%),
    radial-gradient(420px 220px at 85% 85%, rgba(108,77,255,.28), transparent 60%),
    linear-gradient(180deg, rgba(10,12,18,.0), rgba(10,12,18,.70));
}
.p-card__bg--polish{
  background:
    radial-gradient(720px 260px at 25% 0%, rgba(143,107,255,.40), transparent 62%),
    radial-gradient(420px 220px at 88% 85%, rgba(255,255,255,.08), transparent 60%),
    linear-gradient(180deg, rgba(10,12,18,.0), rgba(10,12,18,.72));
}
.p-card__bg--protect{
  background:
    radial-gradient(760px 260px at 20% 0%, rgba(108,77,255,.42), transparent 62%),
    radial-gradient(420px 220px at 88% 85%, rgba(143,107,255,.18), transparent 60%),
    linear-gradient(180deg, rgba(10,12,18,.0), rgba(10,12,18,.72));
}

.p-card__noise{
  position:absolute;inset:0;
  opacity:.10;
  mix-blend-mode: overlay;
}

.p-card__shine{
  position:absolute;inset:-40% -40%;
  background: radial-gradient(circle at 30% 20%, rgba(255,255,255,.20), transparent 40%);
  transform: rotate(12deg);
  opacity:.45;
  pointer-events:none;
}

.layer{
  position:absolute;inset:0;
  will-change: transform;
  transition: transform .22s ease;
}
.layer--glow::before{
  content:"";
  position:absolute;inset:-30%;
  background:
    radial-gradient(420px 220px at 30% 20%, rgba(143,107,255,.55), transparent 55%),
    radial-gradient(420px 240px at 80% 85%, rgba(108,77,255,.30), transparent 58%);
  filter: blur(8px);
  opacity:.75;
}
.layer--particles{
  background:
    radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,.55), transparent 55%),
    radial-gradient(2px 2px at 80% 20%, rgba(255,255,255,.35), transparent 55%),
    radial-gradient(2px 2px at 75% 80%, rgba(255,255,255,.40), transparent 55%),
    radial-gradient(2px 2px at 30% 78%, rgba(255,255,255,.25), transparent 55%);
  opacity:.65;
  filter: blur(.3px);
}

.layer--object{
  opacity:.95;
}
.layer--wash{
  background:
    radial-gradient(120px 120px at 78% 64%, rgba(51,214,166,.24), transparent 60%),
    radial-gradient(180px 180px at 70% 70%, rgba(255,255,255,.06), transparent 65%),
    radial-gradient(260px 180px at 78% 78%, rgba(143,107,255,.14), transparent 70%);
}
.layer--interior{
  background:
    radial-gradient(180px 140px at 72% 62%, rgba(255,255,255,.07), transparent 70%),
    radial-gradient(260px 190px at 78% 78%, rgba(143,107,255,.18), transparent 72%);
}
.layer--polish{
  background:
    radial-gradient(160px 160px at 76% 64%, rgba(255,255,255,.07), transparent 70%),
    radial-gradient(280px 200px at 78% 78%, rgba(143,107,255,.16), transparent 72%);
}
.layer--protect{
  background:
    radial-gradient(160px 160px at 76% 64%, rgba(255,255,255,.06), transparent 70%),
    radial-gradient(280px 200px at 78% 78%, rgba(108,77,255,.16), transparent 72%);
}

.p-card__content{
  position:relative;
  z-index:5;
  padding:16px 16px 16px;
  max-width: 92%;
}
h3{margin:8px 0 6px;font-size:20px;letter-spacing:.2px}
p{margin:0 0 12px;line-height:1.35}

.tag{
  display:inline-flex;
  align-items:center;
  gap:6px;
  font-size:12px;
  font-weight:800;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(0,0,0,.25);
  backdrop-filter: blur(12px);
}
.tag--green{color: #c7fff0; box-shadow: 0 0 0 1px rgba(51,214,166,.12) inset}
.tag--purple{color: #efeaff; box-shadow: 0 0 0 1px rgba(143,107,255,.14) inset}
.tag--muted{color: #d8dbea; opacity:.9}

.row{display:flex;gap:10px;flex-wrap:wrap}

.btn{
  border:1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.06);
  color: var(--text);
  padding:10px 14px;
  border-radius:14px;
  font-weight:800;
  backdrop-filter: blur(14px);
}
.btn--primary{
  background: linear-gradient(135deg, rgba(143,107,255,.95), rgba(108,77,255,.92));
  border-color: rgba(255,255,255,.16);
  box-shadow: 0 18px 55px rgba(143,107,255,.24);
}
.btn--ghost{
  background: rgba(0,0,0,.22);
}

.hero{
  margin-top:14px;
  border-radius: var(--radius);
  min-height: 280px;
  position:relative;
  overflow:hidden;
  border:1px solid rgba(255,255,255,.10);
  box-shadow: var(--shadow);
  background: rgba(255,255,255,.04);
}
.hero__bg{
  position:absolute;inset:0;
  background:
    radial-gradient(820px 320px at 20% 0%, rgba(143,107,255,.44), transparent 62%),
    radial-gradient(560px 320px at 85% 80%, rgba(108,77,255,.20), transparent 62%),
    linear-gradient(180deg, rgba(10,12,18,.05), rgba(10,12,18,.80));
}
.hero__frame{
  position:absolute;inset:0;
  background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,0));
  opacity:.55;
  pointer-events:none;
}
.hero__content{
  position:relative;
  z-index:6;
  padding:18px 16px;
  max-width: 92%;
  padding-top: 150px;
}
.hero h1{
  margin:0 0 8px;
  font-size:34px;
  letter-spacing:.3px;
}
.hero p{margin:0 0 12px}

.hero__hands{
  opacity:.55;
  background:
    radial-gradient(220px 160px at 40% 58%, rgba(255,255,255,.10), transparent 70%),
    radial-gradient(220px 160px at 64% 58%, rgba(255,255,255,.10), transparent 70%);
  filter: blur(0.2px);
}
.hero__ring{
  opacity:.85;
  background:
    radial-gradient(circle at 52% 42%, rgba(143,107,255,.55), transparent 45%),
    radial-gradient(circle at 52% 42%, rgba(255,255,255,.08), transparent 55%),
    radial-gradient(160px 160px at 52% 42%, rgba(143,107,255,.24), transparent 65%);
}
.hero__glow::before{
  content:"";
  position:absolute;inset:-30%;
  background: radial-gradient(420px 240px at 50% 40%, rgba(143,107,255,.55), transparent 60%);
  filter: blur(12px);
  opacity:.85;
}
.spacer{height:22px}

.nav{
  position:fixed;
  left:0;right:0;bottom:0;
  padding:10px 12px calc(10px + env(safe-area-inset-bottom));
  display:flex;
  gap:10px;
  justify-content:space-between;
  background: rgba(8,10,14,.58);
  border-top: 1px solid rgba(255,255,255,.10);
  backdrop-filter: blur(16px);
}
.nav__item{
  flex:1;
  border:0;
  background: transparent;
  color: rgba(255,255,255,.72);
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:4px;
  padding:8px 6px;
  border-radius:16px;
}
.nav__icon{font-size:18px;line-height:1}
.nav__label{font-size:11px}

.nav__item.is-active{
  color:#fff;
  background: rgba(255,255,255,.06);
  box-shadow: 0 0 0 1px rgba(255,255,255,.10) inset;
}
/* Screens (SPA navigation) */
.screen{display:none; animation:fadeUp .18s ease}
.screen.is-active{display:block}

@keyframes fadeUp{
  from{opacity:0; transform:translateY(8px)}
  to{opacity:1; transform:translateY(0)}
}

.glass{
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.05);
  border-radius: var(--radius);
  padding:14px;
  box-shadow: var(--shadow);
  backdrop-filter: blur(14px);
}

.item{
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 10px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.20);
  margin-bottom:10px;
}

.item strong{font-size:14px}
.badge{
  font-size:12px; font-weight:900;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(0,0,0,.25);
}
.badge.ok{color:#c7fff0; box-shadow:0 0 0 1px rgba(51,214,166,.12) inset}
.badge.lock{color:#efeaff; box-shadow:0 0 0 1px rgba(143,107,255,.14) inset}

.lesson{
  margin-top:12px;
  padding:14px;
  border-radius: var(--radius);
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  box-shadow: var(--shadow);
}
.lesson h3{margin:0 0 8px}
.hr{height:1px;background:rgba(255,255,255,.08);margin:12px 0}
.opt{
  width:100%;
  text-align:left;
  padding:12px 12px;
  margin:8px 0;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.18);
  color:#fff;
  font-weight:800;
}
.opt:active{transform:scale(.99)}
.small{font-size:12px}
.brand{display:flex; gap:12px; align-items:center}
.brand__logo{
  width:46px; height:46px;
  border-radius:16px;
  display:grid; place-items:center;
}
.logo{width:46px; height:46px}
.brand__sub{margin-top:2px; opacity:.95}
/* предметные иконки (SVG как фон, без файлов) */
.layer--object{background-repeat:no-repeat; background-position: 78% 58%; background-size: 210px auto;}

.layer--wash{
  background-image:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='420' height='260' viewBox='0 0 420 260'%3E%3Cdefs%3E%3CradialGradient id='a' cx='50%25' cy='50%25' r='60%25'%3E%3Cstop offset='0' stop-color='%238f6bff' stop-opacity='.55'/%3E%3Cstop offset='1' stop-color='%238f6bff' stop-opacity='0'/%3E%3C/radialGradient%3E%3C/defs%3E%3Cpath d='M110 140c30-50 110-70 170-40 25 12 40 30 48 52 7 20-5 35-25 35H130c-20 0-30-18-20-47z' fill='rgba(255,255,255,.10)'/%3E%3Cpath d='M140 130c10-30 60-55 105-53 46 2 84 28 92 60' fill='none' stroke='rgba(255,255,255,.25)' stroke-width='6' stroke-linecap='round'/%3E%3Ccircle cx='160' cy='188' r='18' fill='rgba(51,214,166,.28)'/%3E%3Ccircle cx='300' cy='188' r='18' fill='rgba(143,107,255,.22)'/%3E%3Cpath d='M280 55c0 18-16 28-16 40a16 16 0 0 0 32 0c0-12-16-22-16-40z' fill='url(%23a)'/%3E%3C/svg%3E");
}

.layer--interior{
  background-image:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='420' height='260' viewBox='0 0 420 260'%3E%3Cpath d='M160 80c-18 0-32 14-32 32v70c0 16 13 30 30 30h24c18 0 32-14 32-32v-68c0-18-14-32-32-32h-22z' fill='rgba(255,255,255,.10)' stroke='rgba(255,255,255,.25)' stroke-width='5'/%3E%3Cpath d='M130 135h112' stroke='rgba(143,107,255,.35)' stroke-width='6' stroke-linecap='round'/%3E%3Cpath d='M250 120c16-12 36-18 58-14 20 4 36 16 46 34' fill='none' stroke='rgba(255,255,255,.20)' stroke-width='6' stroke-linecap='round'/%3E%3Ccircle cx='320' cy='90' r='22' fill='rgba(143,107,255,.18)'/%3E%3C/svg%3E");
}

.layer--polish{
  background-image:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='420' height='260' viewBox='0 0 420 260'%3E%3Cpath d='M170 90h120c10 0 18 8 18 18v18c0 10-8 18-18 18H170c-10 0-18-8-18-18v-18c0-10 8-18 18-18z' fill='rgba(255,255,255,.10)' stroke='rgba(255,255,255,.25)' stroke-width='5'/%3E%3Cpath d='M250 144c0 26-22 46-48 46s-48-20-48-46 22-46 48-46 48 20 48 46z' fill='rgba(143,107,255,.18)'/%3E%3Cpath d='M258 112l42-18' stroke='rgba(255,255,255,.22)' stroke-width='8' stroke-linecap='round'/%3E%3Cpath d='M305 88c20 8 32 26 34 46' fill='none' stroke='rgba(143,107,255,.30)' stroke-width='6' stroke-linecap='round'/%3E%3C/svg%3E");
}

.layer--protect{
  background-image:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='420' height='260' viewBox='0 0 420 260'%3E%3Cpath d='M210 60c40 24 70 10 70 10v60c0 44-30 74-70 88-40-14-70-44-70-88V70s30 14 70-10z' fill='rgba(255,255,255,.09)' stroke='rgba(255,255,255,.25)' stroke-width='5'/%3E%3Cpath d='M210 92v104' stroke='rgba(143,107,255,.35)' stroke-width='6' stroke-linecap='round'/%3E%3Cpath d='M170 126h80' stroke='rgba(143,107,255,.35)' stroke-width='6' stroke-linecap='round'/%3E%3Ccircle cx='286' cy='88' r='20' fill='rgba(108,77,255,.18)'/%3E%3C/svg%3E");
}
